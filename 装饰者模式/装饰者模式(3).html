<html>
<head>
<title>main.cpp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #999999; font-weight: normal; font-style: normal; }
.s0 { color: rgb(128,128,0); }
.s1 { color: rgb(0,128,0); font-weight: bold; }
.s2 { color: rgb(0,0,0); }
.s3 { color: rgb(0,0,128); font-weight: bold; }
.s4 { color: rgb(128,128,128); font-style: italic; }
.s5 { color: rgb(0,0,255); }
</style>
</head>
<BODY BGCOLOR="#ffffff">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
main.cpp</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">#include</span><span class="s1">&lt;iostream&gt;</span><span class="s2"> 
</span><span class="s0">#include</span><span class="s1">&lt;cstdio&gt;</span><span class="s2"> 
</span><span class="s0">#include</span><span class="s1">&lt;algorithm&gt;</span><span class="s2"> 
</span><span class="s0">#include</span><span class="s1">&lt;string&gt;</span><span class="s2"> 
</span><span class="s0">#include</span><span class="s1">&lt;cstring&gt;</span><span class="s2"> 
</span><span class="s3">using namespace </span><span class="s2">std; 
 
</span><span class="s4">/* 
父类: 
Beverage 
子类: 
HouseHold 
DarkRoast 
Espresso 
Decaf 
Condiment及其子类 
*/</span><span class="s2"> 
</span><span class="s3">class </span><span class="s2">Beverage{ 
</span><span class="s3">protected</span><span class="s2">: 
    string description; 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription(){</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">virtual double </span><span class="s2">cost()  = </span><span class="s5">0</span><span class="s2">; 
</span><span class="s3">public</span><span class="s2">: 
    Beverage(string d = </span><span class="s1">&quot;&quot;</span><span class="s2">):description(d){} 
}; 
 
</span><span class="s3">class </span><span class="s2">HouseHold: </span><span class="s3">public </span><span class="s2">Beverage 
{ 
</span><span class="s3">public</span><span class="s2">: 
    HouseHold():Beverage(</span><span class="s1">&quot;HouseHold &quot;</span><span class="s2">){} 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription() {</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">double </span><span class="s2">cost()  { </span><span class="s3">return </span><span class="s5">0.99</span><span class="s2">; } 
}; 
</span><span class="s3">class </span><span class="s2">DarkRoast: </span><span class="s3">public </span><span class="s2">Beverage 
{ 
</span><span class="s3">public</span><span class="s2">: 
    DarkRoast():Beverage(</span><span class="s1">&quot;DarkRoast&quot;</span><span class="s2">){} 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription() {</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">double </span><span class="s2">cost()  { </span><span class="s3">return </span><span class="s5">1.99</span><span class="s2">; } 
}; 
 
</span><span class="s3">class </span><span class="s2">Espresso: </span><span class="s3">public </span><span class="s2">Beverage 
{ 
</span><span class="s3">public</span><span class="s2">: 
    Espresso():Beverage(</span><span class="s1">&quot;Espresso&quot;</span><span class="s2">){} 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription() {</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">double </span><span class="s2">cost()  { </span><span class="s3">return </span><span class="s5">2.99</span><span class="s2">; } 
}; 
 
</span><span class="s3">class </span><span class="s2">Decaf: </span><span class="s3">public </span><span class="s2">Beverage 
{ 
</span><span class="s3">public</span><span class="s2">: 
    Decaf():Beverage(</span><span class="s1">&quot;Decaf&quot;</span><span class="s2">){} 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription() {</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">double </span><span class="s2">cost()  { </span><span class="s3">return </span><span class="s5">3.99</span><span class="s2">; } 
}; 
</span><span class="s4">//********************************************************************</span><span class="s2"> 
</span><span class="s4">/* 
父类: 
Condiment 
子类: 
Soy 
SteamedMilk 
Mocha 
Whip 
*/</span><span class="s2"> 
</span><span class="s3">class </span><span class="s2">Condiment:</span><span class="s3">public </span><span class="s2">Beverage 
{ 
</span><span class="s3">protected</span><span class="s2">: 
    </span><span class="s3">double </span><span class="s2">exceedCost; 
</span><span class="s3">public</span><span class="s2">: 
    </span><span class="s3">virtual </span><span class="s2">string getDescription() = </span><span class="s5">0</span><span class="s2">; 
}; 
</span><span class="s3">class </span><span class="s2">Soy:</span><span class="s3">public </span><span class="s2">Condiment 
{ 
</span><span class="s3">public</span><span class="s2">: 
    Soy(Beverage *b){ 
        description = b-&gt;getDescription() + </span><span class="s1">&quot;, Soy&quot;</span><span class="s2">; 
        exceedCost = b-&gt;cost(); 
    } 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription() {</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">double </span><span class="s2">cost()  { </span><span class="s3">return </span><span class="s5">0.10 </span><span class="s2">+ exceedCost; } 
}; 
 
</span><span class="s3">class </span><span class="s2">SteamedMilk:</span><span class="s3">public </span><span class="s2">Condiment 
{ 
</span><span class="s3">public</span><span class="s2">: 
    SteamedMilk(Beverage *b){ 
        description = b-&gt;getDescription() + </span><span class="s1">&quot;, SteamedMilk&quot;</span><span class="s2">; 
        exceedCost = b-&gt;cost(); 
    } 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription() {</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">double </span><span class="s2">cost()  { </span><span class="s3">return </span><span class="s5">0.20 </span><span class="s2">+ exceedCost; } 
}; 
</span><span class="s3">class </span><span class="s2">Mocha:</span><span class="s3">public </span><span class="s2">Condiment 
{ 
</span><span class="s3">public</span><span class="s2">: 
    Mocha(Beverage *b){ 
        description = b-&gt;getDescription() + </span><span class="s1">&quot;, Mocha&quot;</span><span class="s2">; 
        exceedCost = b-&gt;cost(); 
    } 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription() {</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">double </span><span class="s2">cost()  { </span><span class="s3">return </span><span class="s5">0.30 </span><span class="s2">+ exceedCost; } 
}; 
</span><span class="s3">class </span><span class="s2">Whip:</span><span class="s3">public </span><span class="s2">Condiment 
{ 
</span><span class="s3">public</span><span class="s2">: 
    Whip(Beverage *b){ 
        description = b-&gt;getDescription() + </span><span class="s1">&quot;, Whip&quot;</span><span class="s2">; 
        exceedCost = b-&gt;cost(); 
    } 
</span><span class="s3">public</span><span class="s2">: 
    string getDescription() {</span><span class="s3">return </span><span class="s2">description;} 
    </span><span class="s3">double </span><span class="s2">cost()  { </span><span class="s3">return </span><span class="s5">0.40 </span><span class="s2">+ exceedCost; } 
}; 
</span><span class="s4">//********************************************************************</span><span class="s2"> 
</span><span class="s3">int </span><span class="s2">main() 
{ 
    Beverage *houseHold = </span><span class="s3">new </span><span class="s2">HouseHold(); 
    houseHold = </span><span class="s3">new </span><span class="s2">Soy(houseHold); 
    houseHold = </span><span class="s3">new </span><span class="s2">Mocha(houseHold); 
    houseHold = </span><span class="s3">new </span><span class="s2">Whip(houseHold); 
    printf(</span><span class="s1">&quot;Welcome to Starbucks!</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s2">); 
    printf(</span><span class="s1">&quot;your order is: &quot;</span><span class="s2">); 
    cout &lt;&lt; houseHold-&gt;getDescription() &lt;&lt; endl; 
    printf(</span><span class="s1">&quot;HouseHold: %.2lf</span><span class="s3">\n\n</span><span class="s1">&quot;</span><span class="s2">,houseHold-&gt;cost()); 
 
    Beverage *darkRoast = </span><span class="s3">new </span><span class="s2">DarkRoast(); 
    darkRoast = </span><span class="s3">new </span><span class="s2">Mocha(darkRoast); 
    darkRoast = </span><span class="s3">new </span><span class="s2">Mocha(darkRoast); 
    darkRoast = </span><span class="s3">new </span><span class="s2">Whip(darkRoast); 
    printf(</span><span class="s1">&quot;Welcome to Starbucks!</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s2">); 
    printf(</span><span class="s1">&quot;your order is: &quot;</span><span class="s2">); 
    cout &lt;&lt; darkRoast-&gt;getDescription() &lt;&lt; endl; 
    printf(</span><span class="s1">&quot;DarkRoast: %.2lf</span><span class="s3">\n\n</span><span class="s1">&quot;</span><span class="s2">,darkRoast-&gt;cost()); 
 
    Beverage *espresso = </span><span class="s3">new </span><span class="s2">Espresso(); 
    printf(</span><span class="s1">&quot;Welcome to Starbucks!</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s2">); 
    printf(</span><span class="s1">&quot;your order is: &quot;</span><span class="s2">); 
    cout &lt;&lt; espresso-&gt;getDescription() &lt;&lt; endl; 
    printf(</span><span class="s1">&quot;Espresso: %.2lf</span><span class="s3">\n\n</span><span class="s1">&quot;</span><span class="s2">,espresso-&gt;cost()); 
} 
</span><span class="s4">/* 
输出结果： 
Welcome to Starbucks! 
your order is: HouseHold , Soy, Mocha, Whip 
HouseHold: 1.79 
 
Welcome to Starbucks! 
your order is: DarkRoast, Mocha, Mocha, Whip 
DarkRoast: 2.99 
 
Welcome to Starbucks! 
your order is: Espresso 
Espresso: 2.99 
*/</span><span class="s2"> 
</span></pre>
</body>
</html>